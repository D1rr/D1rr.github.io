---
layout: post
title: 字符串Hash学习笔记
tag: [笔记]
---
众所周知，$Hash$是一种检验文件完整性的函数。  
而在$OI$中，$Hash$函数大部分情况下都是一种查重的工具。  
**那么我们就来好好捋一捋**  
* * *
一道模板题 [P3370 【模板】字符串哈希](https://www.luogu.com.cn/problem/P3370)  
### 题意：  
给你$n$个字符串，求出其中不相同字符串的个数。 
* * *
### 分析：
乍一看似乎不是很难，只需要把出现过的字符串记录下来，在后续输出中有重复就跳过。  
~~甚至可以用$\sout{map}$偷鸡解决。~~
但是~~在考虑不用$\sout{map}$的情况下~~如果存放在数组内挨个比对会$TLE$，作为数组下标会$MLE$（因为最后$Hash$函数的值会很大，具体下文会讲）。  
所以，作为$Hash$函数的核心思想，我们可以把字符串对应成一个（最好不重复）的数字。  
**那么这个数字从哪里得到呢？**  
既然是函数，那么就会有一个自变量和转换关系。  
自变量自然是原字符串，或者说其对应的ASCII码值。  
而变换关系，就是本文重点所在。  
**我们可以把字符串转换成一个高进制数**  
这个数字会很大，而大数字的高精度比较和字符串相同是$O(n)$  
这似乎看起来毫无意义，但是我们还有模。  
如果我们忽略一定的错误率，我们可以把取模后相等等价于原数字相等。  
**然后是进制选择**  
进制选择相当自由，我们只需要确保它是一个大质数，而且没有后面取模的数的质因数 ~~（如果有就不用模了）~~。
**紧接着是模数选择**
这个模数的选择直接影响到$Hash$的正确率。而且显而易见地，模数越大，在进制内的数字重复出现的可能越低。  
如果仅仅只是$10^{9}$大小的模数，那么当数据量